<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>密码设置</title>
    <!-- 设置 viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- 引入自定义样式文件 -->
    <link rel="stylesheet" href="css/password.css"/>
    <script src="js/jquery-1.9.1.js"></script>
</head>
<body>
    <!---------------------导航------------------------------------->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <img  class="pull-left" src="images/index/logo.png" alt="">
            <ul class="pull-right login">
                <li class="pull-right register">
                    <span>已有账号,</span>
                    <a href="register.html">直接登录</a>
                </li>
            </ul>
        </div>
    </nav>

<div class="container floor_1"style="margin-top:80px;">
    <ul class="list-unstyled">
        <li class="lf_select active col-xs-5 col-sm-5 col-md-5 col-lg-5">
            <button type="button" class="btn" data-dismiss="modal">1</button>
            身份验证
        </li>
        <li class="mid_select col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <b></b>
        </li>
        <li class="rt_select actives col-xs-5 col-sm-5 col-md-5 col-lg-5">
            <button type="button" class="btn" data-dismiss="modal">2</button>
            设置新密码
        </li>
    </ul>
</div>
<div id="tabbody-div"style="margin-top:30px;">
    <!-- 基本信息 -->
    <div class="container part pt">
        <div class="container main_title">
            <span>通过手机号找回</span>
        </div>
        <div class="row ctn">
            <div class="">
                <div class="form-group has-feedback">
                    <div>
                        <input type="password"  id="phone" name="password" placeholder="手机号码">
                        <span id="rs"></span>
                    </div>
                </div>
                <div class="form-group has-feedback">
                    <div class="cods">
                        <input class="cod" type="password"  id="cod" name="password" placeholder="手机验证码">
                        <button type="button" class="btn register btn-primary">获取验证码</button>
                        <span id="r"></span>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btb submit verify btn-primary">找回密码</button>
        </div>
    </div>
    <div class="container part pts" style="display:none;">
        <div class="row ctn">
            <div class="">
                <div class="form-group has-feedback">
                    <div class="main_titles">
                        <span class="span1">设置新密码</span>
                    </div>
                    <div>
                        <input type="password"  id="pwd" name="password" placeholder="请输入新密码">
                        <span id="d"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row ctn">
            <div class="">
                <div class="form-group has-feedback">
                    <div class="main_titles">
                        <span class="span2">再次确认密码</span>
                    </div>
                    <div>
                        <input type="password"  id="rpwd" name="password" placeholder="请再次确认新密码">
                        <span id="rd"></span>
                    </div>
                </div>
            </div>
            <button type="button" class="btn submit btb btn-primary">提交</button>
        </div>
    </div>

</div>
</body>
<script>
    $(".submit").click(function(){
        $(".pt").hide(1000);
        $(".pts").show(1000);
    });
    $("div.part .btb ").click(function(){
        var i=$("div.part .btb").index(this);
        var bins = $("div.floor_1 ul li:eq("+(++i+1)+")");
        $(".active").removeClass("active").addClass("actives");
        $(bins).removeClass("actives").addClass("active");

    });
    //验证手机号
    document.getElementById("phone").onblur=function(){
        var phone=document.getElementById("phone").value ;
        var reg=/^[0-9a-zA-Z_]{6,12}$/;
        if(phone==''){
            document.getElementById("rs").innerHTML="请输入电话号码！";
            return;
        }else if(!reg.test(phone)){
            document.getElementById("rs").innerHTML="电话号码不正确！";
            return;

        }else{
            document.getElementById("rs").innerHTML="";
        }

    };
    $(".verify").click(function(){
        var cod = $(".cod_name").val();
        alert(cod);
        alert(verify_code);
        //var verifyCode = document.getElementById("verify").value;
        if(cod==verify_code){
            alert(1);
            var i=$("div#tabbody-div .bt ").index(this);
            console.log(i);
            color(i);
            $(".ph").hide(1000);
            $(".table_content2").show(1000);
        }else{
            alert(0);
            document.getElementById("r").innerHTML="验证码错误！";
        }

    });
    /*密码规则校验*/
    document.getElementById("pwd").onblur=function(){
        var password = document.getElementById('pwd').value;
        var regpwd =/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/; //正则表达式
        //2：检测密码格式是否正确
        if(password==''){
            document.getElementById("d").innerHTML="密码不能为空！";
            return;
        }else if(!regpwd.test(password)){
            document.getElementById("d").innerHTML="密码格式不正确";
        }else{
            document.getElementById("d").innerHTML="";
            return;
        }

    };
    /*确认密码*/
    document.getElementById("rpwd").onblur=function(){
        var password = document.getElementById('pwd').value;
        var repeatPass = document.getElementById('rpwd').value;
        if(password==''){
            document.getElementById("rd").innerHTML="密码不能为空！";
            return;
        }else if(repeatPass!=password){
            document.getElementById("rd").innerHTML="两次输入密码不一样";
        }else{
            document.getElementById("rd").innerHTML="";
            //1:获取button按钮
            //var btn = document.getElementById("sub");
            //2:绑定点击事件

        }

    };

</script>
</html>